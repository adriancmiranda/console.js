!function(global,factory){"use strict";"object"==typeof module&&"object"==typeof module.exports?global.trace=module.exports=factory(global,!0).log:global.trace=factory(global).log}("undefined"!=typeof window?window:this,function(global,nodeEnv){"use strict";function wrap(console,method){var output=console[method];console[method]=function(){if(console.enabled){var args=slice.call(arguments);return console.history.length>=console.scrollback&&console.history.shift(),console.history.push({type:method,message:args}),output&&output.apply(console,args)}}}function Logger(console){var list=[],methods="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,timeStamp,profile,profileEnd,time,timeEnd,trace,warn,log".split(",");for(console.enabled=debug||console.enabled;methods.length;)wrap(console,methods.pop());return console.push=function(){list=list.concat(slice.call(arguments))},console.flush=function(){console.log(list.join("\n")),list=[]},console}function getConsole(limit){try{console.log(),global.console.history=[],global.console.scrollback=limit}catch(error){global.console={history:[],scrollback:limit}}return global.console}var debug=global.location&&/\bdebug\b/i.test(global.location.href),slice=Array.prototype.slice;return Logger(getConsole(global.console&&"number"==typeof global.console.scrollback?global.console.scrollback:1))});