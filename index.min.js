/*!
 * @author Adrian C. Miranda <adriancmiranda@gmail.com>
 * @see https://github.com/adriancmiranda/trace
 * @version 2.0.0
 */
!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):factory()}(0,function(){"use strict";function isString(value){return"string"==typeof value||value instanceof String}function filter(list,cmd,context){if($filter)return $filter.call(list,cmd,context);for(var result=[],index=0;index<list.length;index+=1)if(!1!==$hasOwnProperty.call(list,index)){var value=list[index];cmd.call(context,value,index,list)&&(result[result.length]=value)}return result}function exists(list,name){return!!isString(list)&&!!filter(list.split(reSplit),function(level){reAll.lastIndex=0;var namespace=level.replace(reAll,".*?");return reNot.test(level[0])?new RegExp("^(?!"+namespace.substr(1)+")").test(name):new RegExp("^"+namespace+"$").test(name)}).length}function wrap(console,method){var enabled=!0===console.enabled||exists(DEBUG,method)||exists(DEBUG,console.enabled),output=console[method];console[method]=function(){if(!1!==(console.enabled||enabled)){var args=$slice.call(arguments);return console.history.length>=console.scrollback&&console.history.shift(),console.history[console.history.length]={type:method,message:args},output&&output.apply&&output.apply(console,args)}}}var nodeEnv=new Function("try{return this===global;}catch(err){return false;}")(),scope=nodeEnv?global:window,$filter=Array.prototype.filter,$hasOwnProperty=Object.hasOwnProperty,$slice=Array.prototype.slice,reSplit=/[\s,]+/,reAll=/\*/g,reNot=/^[!-]/,reQS=/([^?=&]+)(?:=([^&]*))?/g,DEBUG=nodeEnv?process.env.DEBUG:function(search){var hash={};return search=isString(search)?search:"",search.replace(reQS,function($0,$1,$2){hash[$1]=$2}),hash}((scope.location!==scope.parent.location?document.referrer:document.location.href).split("?")[1]||"").debug;return scope.trace=function(console){for(var list=[],methods="table,assert,count,debug,dir,dirxml,error,profile,group,groupCollapsed,groupEnd,info,timeStamp,log,exception,profileEnd,time,timeEnd,trace,warn,clear".split(",");methods.length;)wrap(console,methods.pop());return console.push=function(){list=list.concat($slice.call(arguments))},console.flush=function(){console.log(list.join("\n")),list=[]},console}(function(limit){try{console.log(),scope.console.history=[],scope.console.scrollback=limit}catch(err){scope.console={history:[],scrollback:limit}}return scope.console}(scope.console&&function(value){return"number"==typeof value||value instanceof Number}(scope.console.scrollback)?scope.console.scrollback:1)).log,scope});
